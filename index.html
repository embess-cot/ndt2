<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Merry Christmas Th√∫y H·ª´n</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@600&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        height: 100vh;
        background: radial-gradient(circle at top, #1a1a1a, #000);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
      }

      /* Header */
      .header {
        position: relative;
        margin-top: 25px;
        width: 100%;
        text-align: center;
        z-index: 10;
      }
      .header h1 {
        font-family: "Playfair Display", serif;
        font-size: 50px;
        color: #ffcc70;
        letter-spacing: 4px;
        text-shadow: 0 0 12px #ffb347, 0 0 30px #ff8c00;
        margin: 0;
      }
      .header span {
        font-family: "Great Vibes", cursive;
        font-size: 40px;
        color: #ffd98a;
        text-shadow: 0 0 12px rgba(255, 215, 140, 0.9);
      }

      canvas {
        display: block;
        margin-top: 20px;
        z-index: 2;
      }

      .icon {
        position: absolute;
        font-size: 32px;
        filter: drop-shadow(0 0 10px gold);
        pointer-events: none;
        z-index: 6;
        animation: swingAround 6s ease-in-out infinite alternate;
      }

      @keyframes swingAround {
        0% { transform: translate(0, 0) rotate(-10deg); }
        50% { transform: translate(40px, -25px) rotate(15deg); }
        100% { transform: translate(-40px, 20px) rotate(-10deg); }
      }

      /* ‚ú® Ch·ªØ ch√∫c m·ª´ng v√† ·∫£nh chuy·ªÉn ƒë·ªông c√πng */
      .floating-item {
        position: absolute;
        font-family: "Great Vibes", cursive;
        font-size: 26px; /* D√πng cho ch·ªØ */
        color: #ffffff;
        text-shadow: 0 0 15px #ffcc70;
        pointer-events: none;
        z-index: 5;
        white-space: nowrap;
        animation: flyUp 8s linear forwards;
        display: flex; /* ƒê·ªÉ cƒÉn gi·ªØa ch·ªØ v√† ·∫£nh */
        align-items: center;
      }
      .floating-item img {
        width: 40px; /* K√≠ch th∆∞·ªõc ·∫£nh */
        height: 40px;
        margin: 0 10px; /* Kho·∫£ng c√°ch gi·ªØa ·∫£nh v√† ch·ªØ */
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.7)); /* Hi·ªáu ·ª©ng t·ªèa s√°ng */
      }
      @keyframes flyUp {
        0% { transform: translateY(0); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-250px); opacity: 0; }
      }

      .snowflake {
        position: absolute;
        color: #fff;
        pointer-events: none;
        z-index: 1;
        top: -20px;
        animation: fall linear infinite;
      }
      @keyframes fall {
        to { transform: translateY(105vh); }
      }
    </style>
  </head>

  <body>
    <div class="header">
      <h1>MERRY CHRISTMAS‚õÑ</h1>
      <span>‚ùÑÔ∏èTh√∫y H·ª´n‚ùÑÔ∏è</span>
    </div>

    <canvas id="tree" width="600" height="750"></canvas>

    <script>
      const canvas = document.getElementById("tree");
      const ctx = canvas.getContext("2d");
      const iconList = ["üéÖ", "ü¶å", "üéÅ", "üîî", "üç™", "üéÑ"];
      const wishes = [
        "Gi√°ng sinh an l√†nh",
        "Th·∫≠t ·∫§m √°p nh√© B√© iuuiu",
        "Merry Christmas",
        "Th√∫y H·ª´n xinh ƒë·∫πp nh·∫•t",
        "H·∫°nh ph√∫c ng·∫≠p tr√†n",
        "Ch√∫c m·ªçi ƒëi·ªÅu t·ªët l√†nh",
        "Y√™u Th√∫y H·ª´n nhi·ªÅu nhi·ªÅu",
      ];
      const floatingImages = [
        "https://cdn-icons-png.flaticon.com/512/744/744502.png", // Tu·∫ßn l·ªôc
        "https://cdn-icons-png.flaticon.com/512/3595/3595111.png", // H·ªôp qu√†
        "https://cdn-icons-png.flaticon.com/512/1042/1042339.png", // Chu√¥ng v√†ng
        "https://cdn-icons-png.flaticon.com/512/4743/4743209.png", // B√°nh quy
      ];


      // H√†m v·∫Ω ng√¥i sao tr√™n Canvas
      function drawStar(x, y, radius, points, inset) {
        ctx.save();
        ctx.beginPath();
        ctx.translate(x, y);
        ctx.moveTo(0, 0 - radius);
        for (let i = 0; i < points; i++) {
          ctx.rotate(Math.PI / points);
          ctx.lineTo(0, 0 - (radius * inset));
          ctx.rotate(Math.PI / points);
          ctx.lineTo(0, 0 - radius);
        }
        ctx.closePath();
        ctx.fillStyle = "#fff200";
        ctx.shadowBlur = 20;
        ctx.shadowColor = "#ffdf00";
        ctx.fill();
        ctx.restore();
      }

      function drawTree(t) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const centerX = canvas.width / 2;

        let topWobble = Math.sin(t + 0 * 10) * 5;
        drawStar(centerX + topWobble, 30, 25, 5, 0.5);

        const totalPoints = 3500;
        const colors = ["#fff9e6", "#ffcc70", "#ffffff", "#ffd700", "#ffae42"];

        for (let i = 0; i < totalPoints; i++) {
          let y = Math.random();
          let maxWidth = y * 240;
          let x = (Math.random() - 0.5) * 2 * maxWidth;

          let wobble = Math.sin(t + y * 10) * 5;
          let px = centerX + x + wobble;
          let py = 50 + y * 590;

          ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
          ctx.globalAlpha = Math.random() * 0.8 + 0.2;
          ctx.beginPath();
          ctx.arc(px, py, Math.random() * 2 + 0.5, 0, Math.PI * 2);
          ctx.fill();
        }

        ctx.fillStyle = "#633e14";
        ctx.globalAlpha = 1;
        ctx.shadowBlur = 0;
        ctx.fillRect(centerX - 15, 640, 30, 40);
      }

      function addIcons() {
        for (let i = 0; i < 15; i++) {
          let icon = document.createElement("div");
          icon.className = "icon";
          icon.innerText = iconList[Math.floor(Math.random() * iconList.length)];
          let side = Math.random() > 0.5 ? 1 : -1;
          icon.style.left = window.innerWidth / 2 + side * (220 + Math.random() * 150) + "px";
          icon.style.top = 250 + Math.random() * 400 + "px";
          icon.style.animationDuration = Math.random() * 3 + 4 + "s";
          icon.style.animationDelay = Math.random() * 5 + "s";
          document.body.appendChild(icon);
        }
      }

      // H√†m t·∫°o ch·ªØ ch√∫c m·ª´ng K√àM ·∫¢NH
      function createFloatingItem() {
        const itemContainer = document.createElement("div");
        itemContainer.className = "floating-item";

        // Ch·ªçn ng·∫´u nhi√™n gi·ªØa ch·ªâ ch·ªØ, ch·ªâ ·∫£nh, ho·∫∑c c·∫£ hai
        const type = Math.floor(Math.random() * 3); // 0: ch·ªâ ch·ªØ, 1: ch·ªâ ·∫£nh, 2: c·∫£ hai

        if (type === 0 || type === 2) {
          const textSpan = document.createElement("span");
          textSpan.innerText = wishes[Math.floor(Math.random() * wishes.length)];
          itemContainer.appendChild(textSpan);
        }

        if (type === 1 || type === 2) {
          const img = document.createElement("img");
          img.src = floatingImages[Math.floor(Math.random() * floatingImages.length)];
          // Ch·ªçn v·ªã tr√≠ ng·∫´u nhi√™n cho ·∫£nh so v·ªõi ch·ªØ (tr∆∞·ªõc ho·∫∑c sau)
          if (Math.random() > 0.5) {
            itemContainer.prepend(img); // Th√™m v√†o ƒë·∫ßu n·∫øu c√≥ ch·ªØ
          } else {
            itemContainer.appendChild(img); // Th√™m v√†o cu·ªëi
          }
        }
        
        itemContainer.style.left = Math.random() * (window.innerWidth - 200) + "px";
        itemContainer.style.top = window.innerHeight - 50 + "px";
        document.body.appendChild(itemContainer);
        setTimeout(() => itemContainer.remove(), 8000);
      }

      function createSnow() {
        const flake = document.createElement("div");
        flake.className = "snowflake";
        flake.innerText = "‚ùÑ";
        flake.style.left = Math.random() * 100 + "vw";
        flake.style.animationDuration = Math.random() * 3 + 2 + "s";
        flake.style.opacity = Math.random();
        flake.style.fontSize = Math.random() * 15 + 10 + "px";
        document.body.appendChild(flake);
        setTimeout(() => flake.remove(), 5000);
      }

      let time = 0;
      function animate() {
        time += 0.03;
        drawTree(time);
        requestAnimationFrame(animate);
      }

      addIcons();
      animate();
      setInterval(createFloatingItem, 1800); // T·∫ßn su·∫•t xu·∫•t hi·ªán ch·ªØ/·∫£nh
      setInterval(createSnow, 100);
    </script>
  </body>
</html>

